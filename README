LostFilm.TV Checker
Version 0.8rc

Скрипт для автоматической загрузки торрент-файлов новых серий разных сериалов с Lostfilm.TV.
Плюшки:
 - Автоматическая проверка нескольких сериалов на новые серии
 - Использование sqlite базы данных
 - Нотификация в Jabber, Juick!

Параметры запуска:
  Формат запуска:
      lostfilm.sh -s <N> -u <"url"> --fake --force -nan --xmpp <1/0> --xmpp-jid <xmpp@jid.com> \
          --juick <1/0> --log <1/0> --log-file <"/path/to/log"> --data-dir <"/path/to/dir"> \
          --torrents-dir <"/path/to/dir"> --download-dir <"/path/to/dir"> --complete-dir <"/path/to/dir"> \
          --temporary-dir <"/path/to/dir"> --user-id <ID> --user-password <"password-hash"> \
          --torrent-client <"torrent-client"> --config-file <"/path/to/config"> \
          --db-file <"/path/to/file.db"> initdb info c cc db config

Начало работы:
  1) Создать файл config.sh в той-же папке, где и lostfilm.sh (пример в файле config.sh.default)
  2) Настроить торрент-клиент, чтобы по завершении загрузок он переносил завершенный файл в папку COMPLETE_DIR из config.sh
  3) Сконфигурировать программу.
      Есть 2 способа это сделать.
      Первый:
          запускать "lostfilm.sh config add" для добавления нового сериала
      Второй: ручной способ
          Создать файл lostfilm_config в папке, указанной в config.sh как DATA_DIR по такому формату:
              Кодовое Имя|Полное название|http://страничка на сайте лостфильма|папка завершенных файлов/%GNAME%
              
              Где "Кодовое Имя" - название сериала на английском в пути на закачку. Например:
                  для сериала "Во все тяжкие" торрент-файлы называются Breaking.Bad.S03E05.rus.LostFilm.TV.avi.torrent
                  Кодовое имя тут - Breaking.Bad (точно в том-же регистре и с точкой)
              "Полное название" - название сериала в читаемом виде. Например: "Во все тяжкие"
              "http://страничка на сайте лостфильма" - например, http://www.lostfilm.tv/browse.php?cat=119
              "папка завершенных файлов/%GNAME%" - папка, куда будут переноситься файлы после завершения загрузки.
                  %GNAME% будет заменен на полное название сериала.
                  При строке "/media/Data/Video/%GNAME%" путь будет автоматически преобразован
                  в "/media/Data/Video/Во все тяжкие/" и будет создана соответствующая папка
  4) Запускать "lostfilm.sh check" в нужное время
  5) Profit!

Параметры запуска:
 "initdb": Инициализирует файл базы данных.
 "info": Показывает информацию о сериалах в базе данных и файле конфигурации.
       синтаксис: после слова info можно задать формат вывода. 
         info about count files config
         about  : показывает общую информацию о сериале
         count  : показывает количество серий в базе данных
         files  : выводит список торрент-файлов из базы данных
         config : выводит соответствующую строку из файла конфигурации
       Запуск info без формата идентично запуску info about
 "check", или просто "c": Производит, собственно, проверку всех сериалов на сайте лостфильма.
 "checkcomplete", или просто "cc": Проверяет папку COMPLETE_DIR на завершенный файлы от лостфильма и,
       если есть, перемещает их по соответствующим папкам из файла конфигурации.
 "db": разные действия с базой данных:
       db remove: удаляет что-либо из базы данных. Если через параметр --url "адрес"
                  указана ссылка, то он удаляется из базы. Ссылку можно посмотреть с помощью команды info files
                  Если сериал указан через --serial <N>,
                  то удалятся все данные о сериале из базы данных.
       db exists: проверяет, существует ли адрес, указаный в --url "адрес" в базе данных.
       db purge : полностью очищает базу данных.
 "config": управление файлом конфигурации
       config add: добавление сериала в базу данных
       config remove: удаление сериала из базы данных (указать через опцию --serial <N>)


  Автор: Antigluk, Роман Радер [antigluk@gmail.com]
  http://github.com/antigluk/lostfilm
